$(document).on("focus blur",".findashop input[type=text]",function(b){var a=b.type;if(a==="focusin"&&this.value===this.defaultValue){this.value=""}else{if(a==="focusout"&&this.value===""){this.value=this.defaultValue}}});$(document).on("click","a[data-collapse-trigger]",function(b){b.preventDefault();var a=this.getAttribute("data-collapse-trigger");$("[data-collapse-item="+a+"]").slideToggle();if(this.innerHTML.toUpperCase()==="HIDE"){this.innerHTML="Show More"}else{if(this.innerHTML.toUpperCase()==="SHOW MORE"){this.innerHTML="Hide"}}});$(document).on("click","span[data-squeezed-toggler], a[data-squeezed-toggler]",function(a){a.preventDefault();var b=this.getAttribute("data-squeezed-toggler");$("*[data-squeezed-wrap="+b+"]").fadeToggle()});$(document).on("click","a[data-blurb-trigger]",function(d){d.preventDefault();var b=this.getAttribute("data-blurb-trigger"),c=$(this),a=$("*[data-blurb-trigger="+b+"]");if(c.html().toUpperCase().search("LESS")>=0){a.html(" more")}else{a.html(" less")}$("*[data-blurb="+b+"]").toggle(0)});$(document).on("click","*[data-dialoghelp]",function(c){var b=$(this).data("dialoghelp"),a=$("#"+b);a.show();$("#"+b).find(".close").click(function(){a.hide()})});$(document).on("click.enlargeImage","a[data-dpop-image-detail]",function(b){b.preventDefault();var a=this.getAttribute("data-dpop-image-detail");a='<img src="'+a+'" alt="printSizeImage" />';dPop.create(a,{css:"imageDetail",hasMask:true,XButton:true,fixPosition:false})});$(document).on("click.enlargeImageWJCGallery","[data-dpop-image-jcgallery]",function(h){h.preventDefault();if(JCGallery){var d=Juggernaut.mustache,f=tplToJs.mustache,c=$.parseJSON(this.getAttribute("data-dpop-image-jcgallery"));if(!d.hasTpl("structure")){Mustache.compilePartial("JCGallery/partials/topcontrols",f.topcontrols);Mustache.compilePartial("JCGallery/partials/slider",f.slider)}var j=Juggernaut.mustache.load("structure");var a="dPop_image-detail-gallery",i=document.getElementById("dPop_image-detail-gallery");if(!i){i=document.createElement("div");i.id=a;document.body.appendChild(i)}var g="JCGallery-DetailJS";i.innerHTML=j({UI:{JCGallery:{id:g}}});console.log(c);var b={count:1,index:0,slides:[{abstractMetaData:[],connected:null,connectedMeta:[],description:c.description,gallery_title:c.gallery_title,img:c.img,id:c.id,index:0,preloaded_slide:false,showLinkText:true,thumb:c.img,title:c.title,toggleLinkText:"More"}]};var k={isMobile:Juggernaut.client.hasTouch,title:c.gallery_title,interstitial_interval:0,count:b.count,lastSlideIndex:b.slides[b.slides.length-1].index,googleAnalytics:{contentId:c.contentId,galleryType:c.galleryType},contentID:c.contentId,galleryType:c.galleryType};var l=$("#"+g);JCGalleryDetailInt=new JCGallery();JCGalleryDetailInt.init(l,b,k);console.log("gallery data : ",b,"Instance data : ",k);l.find(".pwrSldr").one("pwrSldr_draw",function(){setTimeout(JCGalleryDetailInt.toggleFullscreen,350)});$("a.fullscreen-toggle").one("click",function(){setTimeout(function(){delete JCGalleryDetailInt;i.innerHTML=""},1200)})}else{$(document).off("click.enlargeImageWJCGallery")}});function smoothScroll(f,c){var b=window.pageYOffset;var a=$(f);c=c||{};var j=c.limitDirection||null,e=c.offsetY||0,d=typeof c.duration==="number"?c.duration:500,i=c.callback||function(){},g=c.easing||"swing";var h;if(typeof f==="number"){h=f}else{if(a.offset()){h=a.offset().top+e}else{return true}}h=a.offset().top+e;if(b<h&&j==="top"||b>h&&j==="bottom"){return true}$("html, body").stop().animate({scrollTop:h},d,g,i)}$(document).on("jtap","*[data-scrollto]",function(c){var a=this.getAttribute("data-scrollto"),b={};try{b=JSON.parse(a);a=b.selector;if(Juggernaut.client.hasTouch&&!b.duration){b.duration=0}}catch(c){console.warn(c)}smoothScroll(a,b)});$("div[data-sld]").each(function(){$this=$(this);if(!$this.data("pwrSldr")){$this.addClass("pwrSldr");PwrSldrInstantiator.run()}});Juggernaut.UI.JCAccordion=(function(j){var b=$([]),c=[300,800,2100,5500],g=["_sSize","_mSize","_lSize","_xlSize"];function h(m){for(var l=0;l<c.length;l++){if(m<c[l]){var k=g[l];break}}return k||""}function f(){b=$("[data-jcaccordion]");b.children("dd._expanded").each(function(){var k=$(this).prev("dt");k.addClass("_expanded")});a();i()}function e(k){var m=$(this),p=m.next("dd"),l=h(p[0].scrollHeight);function o(){p.addClass(l);setTimeout(function(){p.addClass("_animable");setTimeout(function(){p.removeClass(g.join(" ")+" _expanded");m.removeClass("_expanded")},50)},50)}function n(){p.one(j,function(){p.removeClass("_animable");p.removeClass(l);p.off(j)});p.addClass("_animable");p.addClass("_expanded "+l);m.addClass("_expanded")}if(p.hasClass("_expanded")||k==="collapse"){o()}else{if(k==="expand"){n()}else{n()}}}function d(){var k;if(!this.nodeName){k=$(document)}else{if(this.nodeName==="dl"){k=$(this)}else{k=$(this).closest("dl")}}$("dd, dt",k).removeClass("_animable _expanded")}function a(){b.children("dt").off("click.jcAccordion")}function i(){var k=b.children("dt");$.each(k,function(l,m){if($(m).hasClass("belay")){$(m).find(".title span").on("click",function(){e.call(m)})}else{$(m).on("click.jcAccordion",function(){e.call(this)})}})}f();return{_reinit:f,expandCollapse:e,collapseAll:d}})(Juggernaut.evCheck.transitionEnd);Juggernaut.stickyFooter=function(c,h){var a=h.body,e=h.documentElement;var g=function(){return Math.max(a.scrollHeight,a.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight)};var i=function(){return c.innerHeight};var f=function(d){$(d).removeClass("stickyFooter")};var b=function(d){var j=h.getElementById("mvl-nav-ftr-banner-ad");if(j&&j.parentNode){var k=j.parentNode;if(!!d){f(k)}if(g()<=i()){k.className+=" stickyFooter";return true}else{return false}}};return{getHeight:g,stickIt:b}}(window,document);Juggernaut.stickyFooter.stickIt();$(window).resize(Juggernaut.utilities.debounce(function(){Juggernaut.stickyFooter.stickIt(true)},500,false));$(document).on("Juggernaut.filter.updatedlist",Juggernaut.utilities.debounce(function(){Juggernaut.stickyFooter.stickIt(true)},300,false));var scrollbind=(function(e){var b={};var d={inboundsCB:function(){},outboundsCB:function(){},compareBoundsCB:function(){},withinBoundsOf:null};function h(){g()}function a(j,l,k){e(j).each(function(n){var q=e(this),p=q.offset().top-(l.offset||0),o=p>0?p:0;if(l.withinBoundsOf){l.compareObjectHeight=l.withinBoundsOf.outerHeight()||null;l.compareObjectOffsetTop=l.withinBoundsOf.offset().top||null;l.selectorHeight=j.height()||null}var m=e.extend({},d,l);m.elem=q;b[o]=m})}function i(j){var l;for(var k in b){if(b[k].elem.is(j)){l=e.extend({},b[k]);delete b[k]}}delete l.elem;return l}function f(j){var k=i(j);a(j,k)}function g(){c().setScrollBinds()}function c(){return{setScrollBinds:function(){function j(){var k=window,l=k.document;if(k.pageYOffset!=null){return k.pageYOffset}if(document.compatMode=="CSS1Compat"){return l.documentElement.scrollTop}return l.body.scrollTop}e(window).on("scroll.scrollbind",function(){var m=j();for(var k in b){var l=b[k].elem;if(m>parseInt(k)){b[k].inboundsCB(l)}else{if(m<=parseInt(k)){b[k].outboundsCB(l)}}if(m>b[k].compareObjectOffsetTop+b[k].compareObjectHeight-b[k].selectorHeight){b[k].compareBoundsCB(l)}}})}}}h();return{bindOffsets:a,deleteOffsets:i,recalculateOffsets:f,_offsets:b}})(jQuery);scrollbind.bindOffsets("*[data-sticky-register]",{inboundsCB:function(a){},outboundsCB:function(a){}});var _ga=_ga||{};_ga.getSocialActionTrackers_=function(d,a,b,c){return ga("send",{hitType:"social",socialAction:a,socialTarget:b,page:c})};_ga.trackFacebook=function(a){try{if(FB&&FB.Event&&FB.Event.subscribe){FB.Event.subscribe("edge.create",function(c){_ga.getSocialActionTrackers_("facebook","like",c,a)});FB.Event.subscribe("edge.remove",function(c){_ga.getSocialActionTrackers_("facebook","unlike",c,a)});FB.Event.subscribe("message.send",function(c){_ga.getSocialActionTrackers_("facebook","send",c,a)})}}catch(b){}};_ga.trackTwitterHandler_=function(a,d){var c;if(a&&a.type=="tweet"||a.type=="click"){if(a.target.nodeName=="IFRAME"){c=_ga.extractParamFromUri_(a.target.src,"url")}var b=a.type+((a.type=="click")?"-"+a.region:"");ga(_ga.getSocialActionTrackers_("twitter",b,c,d))}};_ga.trackTwitter=function(a){intent_handler=function(b){_ga.trackTwitterHandler_(b,a)};twttr.events.bind("click",intent_handler);twttr.events.bind("tweet",intent_handler)};_ga.extractParamFromUri_=function(b,c){if(!b){return}var a=new RegExp("[\\?&#]"+c+"=([^&#]*)");var d=a.exec(b);if(d!=null){return unescape(d[1])}return};(function(){var a;var c;function f(){e();c=new b();c.init()}function e(){var j=_.clone(window.utag_data);if(window.userReporting){window.userReporting.init()}j.tag_type="link";delete j.event_type;delete j.event_value;window.Uatu=new Juggernaut.OO.MainSiteUatu();window.Uatu.init({analyticsData:j});if(window.MutationObserver){var i=new MutationObserver(_.debounce(d,1000));i.observe(document,{subtree:true,childList:true})}else{$(document).on("DOMNodeInserted",_.debounce(h,1000))}}function g(){if(window.Uatu){c.unNavListen();c.navStash();c.navListen()}}function h(i){g()}function d(){g()}var b=window.Juggernaut.OO.utils.extendClass(window.Juggernaut.OO.Reporting,{getSetProps:{$kamalaClick:null,$newsAlertAnchor:null},pubMethods:{stash:function(){this.$newsAlertAnchor=$("#marvel_topnav_storyalert a")},navStash:function(){this.$kamalaClick=$("[data-click-type]")},listen:function(){this.$newsAlertAnchor.on(window.Uatu.START_EV,this._onStoryAlertClick)},navListen:function(){this.$kamalaClick.on(window.Uatu.START_EV,this._onKamalaClick)},unNavListen:function(){if(this.$kamalaClick){this.$kamalaClick.off(window.Uatu.START_EV,this._onKamalaClick)}},_onStoryAlertClick:function(m){var j=$(m.target);var l=j.text().toLowerCase();var i=j.attr("href");var k={link_name:l+" | "+i,link_url:i,click_location:l+" | Module: alert"};if(window.Uatu.analyticsData.site_section==="insider"){k.event_type="insider";k.event_value="link_click"}else{k.event_type="alert";k.event_value="click_top_nav"}this.report(k)},_onKamalaClick:function(o){var n=o.currentTarget;var i={};var j=n.dataset;var m=n.parentNode;var l;while(m){l=m.dataset;if(l&&l.topComponent){break}else{l=null}m=m.parentNode}if(j){for(var k in j){if(j.hasOwnProperty(k)){i[k]=j[k]}}}if(l){for(var k in l){if(l.hasOwnProperty(k)){i[k]=l[k]}}}i.event_type="navigation";i.event_value="click";this.report(i)}}});$(f)})();(function(o,z){var f=o.navigator.msPointerEnabled,i=(f)?"MSPointerDown":"ontouchstart" in o?"touchstart":"mousedown",q=(f)?"MSPointerMove":"ontouchstart" in o?"touchmove":"mousemove",n=(f)?"MSPointerUp":"ontouchstart" in o?"touchend":"mouseup";(function(H,w){H[w]||(H[w]=function(d){return this.querySelectorAll("."+d)},Element.prototype[w]=H[w])})(document,"getElementsByClassName");!window.addEventListener&&function(J,w,L,I,d,H,K){J[I]=w[I]=L[I]=function(N,M){var O=this;K.unshift([O,N,M,function(P){P.currentTarget=O;P.preventDefault=function(){P.returnValue=false};P.stopPropagation=function(){P.cancelBubble=true};P.target=P.srcElement||O;M.call(O,P)}]);this.attachEvent("on"+N,K[0][3])};J[d]=w[d]=L[d]=function(O,M){for(var P=0,N;N=K[P];++P){if(N[0]==this&&N[1]==O&&N[2]==M){return this.detachEvent("on"+O,K.splice(P,1)[0][3])}}};J[H]=w[H]=L[H]=function(M){return this.fireEvent("on"+M.type,M)}}(Window.prototype,HTMLDocument.prototype,Element.prototype,"addEventListener","removeEventListener","dispatchEvent",[]);if(typeof document!=="undefined"&&!("classList" in document.createElement("a"))){(function(K){var T="classList",O="prototype",H=(K.HTMLElement||K.Element)[O],S=Object,J=String[O].trim||function(){return this.replace(/^\s+|\s+$/g,"")},R=Array[O].indexOf||function(d){var U=0,V=this.length;for(;U<V;U++){if(U in this&&this[U]===d){return U}}return -1},w=function(U,d){this.name=U;this.code=DOMException[U];this.message=d},N=function(d,U){if(U===""){throw new w("SYNTAX_ERR","An invalid or illegal string was specified")}if(/\s/.test(U)){throw new w("INVALID_CHARACTER_ERR","String contains an invalid character")}return R.call(d,U)},Q=function(d){var U=J.call(d.className),V=U?U.split(/\s+/):[],W=0,X=V.length;for(;W<X;W++){this.push(V[W])}this._updateClassName=function(){d.className=this.toString()}},P=Q[O]=[],L=function(){return new Q(this)};w[O]=Error[O];P.item=function(d){return this[d]||null};P.contains=function(d){d+="";return N(this,d)!==-1};P.add=function(d){d+="";if(N(this,d)===-1){this.push(d);this._updateClassName()}};P.remove=function(d){d+="";var U=N(this,d);if(U!==-1){this.splice(U,1);this._updateClassName()}};P.toggle=function(d){d+="";if(N(this,d)===-1){this.add(d)}else{this.remove(d)}};P.toString=function(){return this.join(" ")};if(S.defineProperty){var I={get:L,enumerable:true,configurable:true};try{S.defineProperty(H,T,I)}catch(M){if(M.number===-2146823252){I.enumerable=false;S.defineProperty(H,T,I)}}}else{if(S[O].__defineGetter__){H.__defineGetter__(T,L)}}}(self))}function u(){return y&&D&&b}function F(d){d=d.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var H=new RegExp("[\\?&]"+d+"=([^&#]*)"),w=H.exec(location.search);return w===null?"":decodeURIComponent(w[1].replace(/\+/g," "))}function C(){return c}function s(d){return d.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}var g=z.getElementById("icon-menu"),y=z.getElementById("icon-search"),c=z.querySelectorAll(".icon-account")[0],D=z.getElementById("txtSearch"),G=z.getElementById("marvel_topnav_ul_wrapper"),b=z.getElementById("marvel_topnav_search"),p=z.getElementById("marvel_topnav_ul"),B=z.getElementById("marvel_subnav"),m=z.getElementById("marvel_subnav_li"),l=z.getElementById("marvel_subnav_ul"),t=z.getElementById("marvel_subnav_div"),a=function(){return o.innerHeight+44+"px"},k=false,e;function E(){j();r();v()}function r(){setTimeout(function(){var H=document.querySelectorAll(".marvelWidget_Container"),d=i!="mousedown"?"device_HASTOUCH":"device_NOT_HASTOUCH";for(var w=0;w<H.length;w++){H[w].classList.add(d)}},1000)}function j(){if(z.addEventListener){h().touchBinds()}h().initBinds()}function x(){setTimeout(window.scrollTo(0,0),100)}function h(){return{touchBinds:function(){if(g){function J(R){R.preventDefault();R.stopPropagation();setTimeout(function(){window.scroll(0,0)},1000);g.classList.toggle("active");if(m!==null){m.classList.remove("active");t.classList.remove("active");p.style.display="block"}if(u()){y.classList.remove("active");b.classList.remove("active")}if(G.className=="active"){G.className="";setTimeout(function(){e.destroy();e=undefined;A()},250)}else{var S=document.querySelectorAll(".dropdown.signin");for(var Q=S.length-1;Q>=0;Q--){S[Q].style.opacity="0"}G.style.height=a();G.className="active";if(typeof e==="undefined"){setTimeout(function(){e=new iScroll(G,null,2);e.on("scrollEndTap",function(){var T=e.e;if(T.target.offsetParent.className.indexOf("dropdown-container")===-1){if(e.e.target.href!==undefined){window.location.href=e.e.target.href;return}if(e.e.target.parentElement.href!==undefined){window.location.href=e.e.target.parentElement.href}}else{T.target.offsetParent.classList.toggle("active");e.refresh()}})},500)}if(u()){y.classList.remove("active");b.classList.remove("active")}if(m){l.classList.remove("active");m.classList.remove("active")}}}g.removeEventListener(i,J,false);g.addEventListener(i,J,false)}(function(){var Q=setInterval(function(){clearInterval(Q);if(window.topNavReporting){window.topNavReporting.init()}if(window.topNavLoginModule){window.topNavLoginModule.init()}var R=(window.navigator.msPointerEnabled)?"MSPointerDown":"ontouchstart" in window?"touchstart":"mousedown"},100)})();if(c&&(i!=="mousedown")){function H(Q){c.parentNode.parentNode.classList.toggle("active")}c.removeEventListener(i,H,false);c.addEventListener(i,H,false)}if(c&&(i=="touchstart")){var I=document.querySelectorAll("#marvel_topnav .dropdown.signin")[0];var d=document.getElementById("marvel_topnav_ul_wrapper");var N=document.getElementById("marvel_topnav_mobile")}if(u()){function M(Q){Q.preventDefault();Q.stopPropagation();y.classList.toggle("active");b.classList.toggle("active");if(y.classList.contains("active")){D.focus()}else{D.blur();o.scrollTo(0,1)}g.classList.remove("active");G.classList.remove("active");if(m!==null){m.classList.remove("active");t.classList.remove("active")}if(!k){z.getElementById("marvel_topnav_search").addEventListener(i,function(S){var R=z.createEvent("UIEvent");R.initUIEvent("touchstart",true,true);if(S.target.nodeName==="DIV"){S.preventDefault();S.stopPropagation();y.dispatchEvent(R)}});k=true}}y.removeEventListener(i,M,false);y.addEventListener(i,M,false)}if(B){var K={};function w(R){var Q=R.touches?R.touches[0]:R;K={moved:false,startY:Q.pageY,dist:0,uloffsetHeight:l.offsetHeight,ulscrollerHeight:l.scrollerHeight,getComputedPosition:P()};R.preventDefault();R.stopPropagation()}function O(S){var Q=S.touches?S.touches[0]:S,T=P(),R;K.dist=Q.pageY-K.startY;if(Math.abs(K.dist)>10){K.moved=true}if(T.height+88<window.innerHeight){return}if(K.dist<0&&T.height+T.y<210){return}if(T.y>9){l.style.top="0px";return}if(K.moved){R=K.getComputedPosition.y+K.dist}S.preventDefault();S.stopPropagation()}function L(Q){if(K.moved){return false}if(!K.move&&Q.target.href!==undefined&&Q.target.href.length>0){window.location.href=Q.target.href;return}if(!K.move&&Q.target.href===""&&Q.target.offsetParent.classList.contains("dropdown-container")){Q.target.offsetParent.classList.toggle("active");return}m.classList.toggle("active");t.classList.toggle("active");if(y&&b){y.classList.remove("active");b.classList.remove("active")}g.classList.remove("active");G.classList.remove("active");Q.preventDefault();Q.stopPropagation()}function P(){var R=window.getComputedStyle(l,null),Q,S;S=+R.top.replace(/[^-\d]/g,"");height=parseInt(R.height,10);return{y:S,height:height}}B.addEventListener(i,w,false);B.addEventListener(q,O,false);B.addEventListener(n,L,false)}},initBinds:function(){var d;o.addEventListener("resize",function(){clearTimeout(d);d=setTimeout(function(){if(G){G.style.height=g.className.search("active")>=0?a():0}},500);A()});function w(H){z.getElementById("marvel_topnav_search").classList.toggle("open");z.getElementById("marvel_topnav_search_button").classList.toggle("active");setTimeout(function(){z.getElementById("txtSearch").focus()},500);H.preventDefault();H.stopPropagation();return}if(z.getElementById("marvel_topnav_search_button")){z.getElementById("marvel_topnav_search_button").addEventListener(i,w)}if(z.getElementById("marvel_topnav_search_close")){z.getElementById("marvel_topnav_search_close").addEventListener(i,w)}}}}function A(){if(p){p.parentNode.setAttribute("style","")}}function v(I){var H,d;function w(J){if(window.innerWidth>900&&(i==="touchstart"||i==="MSPointerDown")){if(C()){c.parentNode.parentNode.classList.remove("active")}if(J.target.nodeName.toLowerCase()==="span"&&J.target.offsetParent.classList.contains("btn")){window.location.href=J.target.offsetParent.href;J.preventDefault();J.stopPropagation();return}H=J.target.offsetParent;if(d&&d!==H){d.classList.remove("active")}if(H.className.indexOf("dropdown-container")===-1){if(J.target.href!==undefined&&J.target.parentElement.className.indexOf("top-nav-menu-item")!==-1){window.location.href=J.target.href;J.preventDefault();J.stopPropagation();return}if(J.target.parentElement.className.indexOf("icon-user")){H.classList.toggle("active");d=H;J.preventDefault();J.stopPropagation();return}}else{H.classList.toggle("active");d=H;J.preventDefault();A()}}}if(G){G.addEventListener(i,w,false)}}E()})(window,document);(function iAmGroot(){var a=["iamgroot"];var g="https://i.annihil.us/u/prod/marvel/i/am/groot/";var e=[];var h="71,82,79,79,84";function i(){d();f()}function d(){var l=document.createElement("div");var j=!!document.createElement("audio").canPlayType("audio/ogg");var k=j?".ogg":".mp3";var o=null;l.id="jukebox";for(var m=a.length-1;m>=0;m--){var n=g+a[m]+k;o=document.createElement("audio");o.src=n;o.id="jukebox-"+a[m];o.preload="auto";l.appendChild(o)}if(document.body){document.body.appendChild(l)}}function f(){$(window).on("keydown",b)}function c(k){console.info("I am Groot");var j=document.getElementById("jukebox-"+k)||document.getElementById("jukebox-havenofear");j.load();j.play()}function b(j){e.push(j.keyCode);var k=e.toString();if(k.indexOf(h)>=0){e=[];c(a[Math.floor(Math.random()*a.length)])}else{if(h.indexOf(k)!==0){e=[]}}}i()})();