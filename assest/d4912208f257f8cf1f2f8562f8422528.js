Juggernaut.filter.releaseDate=(function(e,c,d){var a=["originalReleaseStart","originalReleaseEnd"];function b(h){var m=c("input[name=releaseDate_Range]:checked"),k=m.val(),j=m.closest("fieldset"),i=m.closest("form[data-filter-group]").attr("data-filter-group");if(k==="all"){e.groupRemoveItem(i,a[0]+"|"+a[1]);c(".jsDateFilterSel",j).hide();c("li[data-filterwidget-pointer=releaseDate] em").html("all")}else{if(k==="specified"){var g={from_month:c("select[name=originalReleaseStart-month]",j).val(),from_year:c("select[name=originalReleaseStart-year]",j).val(),to_month:c("select[name=originalReleaseEnd-month]",j).val(),to_year:c("select[name=originalReleaseEnd-year]",j).val()};console.log("test",g);var l={from:g.from_year+"-"+g.from_month+"-01",to:g.to_year+"-"+g.to_month+"-01"};var f=c("select[name=dateFilterType]");c(".jsDateFilterSel",j).show();c(".jsDateFilterSel_TO",j).show();if(f.val().toUpperCase()==="FROM"){console.log("FROM",a,l);e.groupUpdate(i,{key:a[0],val:l.from},"temp");e.groupUpdate(i,{key:a[1],val:l.to},"temp");c(".jsDateFilterSel",j).show();c(".jsDateFilterLbl_TO",j).show();console.log("here!!!!!!!!");c(".jsDateFilterSel_TO",j).show()}else{if(f.val().toUpperCase()==="BEFORE"){console.log("BEFORE",a,l);e.groupRemoveItem(i,a[0]);e.groupUpdate(i,{key:a[1],val:l.to});c(".jsDateFilterSel_FROM",j).hide();c(".jsDateFilterSel_TO",j).show();c(".jsDateFilterLbl_TO",j).hide()}else{if(f.val().toUpperCase()==="AFTER"){console.log("AFTER",a,l);e.groupRemoveItem(i,a[1]);e.groupUpdate(i,{key:a[0],val:l.from});c(".jsDateFilterSel_FROM",j).show();c(".jsDateFilterSel_TO",j).hide();c(".jsDateFilterLbl_TO",j).hide()}}}c("li[data-filterwidget-pointer=releaseDate] em").html("specified")}}if(h==="change"){c.when(e.get(i)).then(function(n){e.updateUI(n)})}}c(d).on("Juggernaut.filter.firstregistered",function(f,g){b("load")});c(d).on("change","input[name=releaseDate_Range], fieldset[data-filter-fieldset=releaseDate] select, li[data-filterwidget-pointer=releaseDate]",function(f){b("change")});c(d).on("Juggernaut.filter.cleared",function(f,g){c("input[name=releaseDate_Range][value=all]").click()})})(Juggernaut.filter,jQuery,document);(function(f,e){var c,d="data-filter-forceaddremoveparams";_sel="*["+d+"]";function a(){var m=$(this),l=$(this).closest("*[data-filter-group]").attr("data-filter-group"),g=f.getGroups(),h=g.groupActive[l],i=g.groupSpecs[l],n=m.attr(d);var k=n.split("|");function j(o){if(k[o]){var q,r,p;keysNvals=k[o].split("/");for(q=0;q<keysNvals.length;q++){var r=keysNvals[q].split("=");if(o===0){console.log("adding "+r[0]+" = "+r[1]);i.xtraAPIParams[r[0]]=r[1]||""}else{console.log("deleting "+r[0]);delete i.xtraAPIParams[r[0]]}}}}j(0);j(1)}function b(){var h=$(this),g=$(this).closest("*[data-filter-group]").attr("data-filter-group");f._resetOffset(g);f.getAndSubmit(g,"active");$(_sel).removeClass("active");h.addClass("active")}$(e).on("Juggernaut.filter.firstregistered",function(h,j,g){c=$(_sel);c.on("jtap",function(k){k.preventDefault();a.call(this);b.call(this)});var i=$(_sel+".active")[0];if(i){a.call(i)}})})(Juggernaut.filter,document);Juggernaut.filter.listsearch=(function(d,c){var i={},g=false;var e=c.getGroups();var f={filterWrap:"data-filter-group",searchbox:"data-filterlistsrch-input",listFieldset:"data-filter-fieldset"};function j(o,n){var l=d("form["+f.searchbox+"="+o+"]"),m=d("input["+f.searchbox+"="+n.ref+"]",l[0]);i[o]=i[o]||{};var k=i[o][n.ref]={};k.$listElem=d("fieldset["+f.listFieldset+"="+n.ref+"]",l[0]);h(o,n);var p=0;m.on("keyup",function(){var s=d(this),t=s.val().toUpperCase(),r=t.length,q=i[o][this.getAttribute("data-filterlistsrch-input")];if(r>1){p=r;clearTimeout(g);g=setTimeout(function(){var y=d.extend({},q.jsondata),w=y.items,x=w.length,u=[];for(var v=0;v<x;v++){if((new RegExp(t)).test(w[v].label.toUpperCase())){u.push(w[v])}}y.items=u;c.templater(o,y);a(o,n.ref)},700)}else{if(r<1&&r<p){p=0;clearTimeout(g);q.$listElem.html(q.htmlcached);a(o,n.ref)}}})}function h(m,l){var k=i[m][l.ref];if(k){k.jsondata={filterConfig:{filterGroup:m},type:l.type,items:l.items,ref:l.ref};k.htmlcached=k.$listElem.html()}}function b(k){return i[k]}function a(n,l){var m=e.groupOpen[n][l]||{};if(m){var o=m.length;for(var k=0;k<o;k++){d("#"+l+"-"+m[k]).prop("checked",true)}}}d(document).on("Juggernaut.filter.submitted",function(l,m,k){console.log(k)});return{setupInstance:j,updateInstance:h,getInstance:b,_instances:i}})($,Juggernaut.filter);